<script>
	
HTMLInputElement.prototype.read_file = function(event){
	for(var i=0; i<this.files.length; i++){
		
		this.files[i].reader = new FileReader();
		this.files[i].reader.readAsBinaryString(this.files[i].slice(0, this.files[i].size));
		
		this.files[i].reader.onloadend = function(evt) {
			var file_contents = evt.target.result;
			if (evt.target.readyState == FileReader.DONE) {
					console.group("reading file...");
					console.debug(file_contents);
					console.groupEnd();
			}
		};
	}	  
  };

document.addEventListener("DOMContentLoaded",function(){
	
	//Protoypes
	
	//HTMLInputElement
	//HTMLFileInput
	var file_inputs = document.querySelectorAll("input[type=file].nexus");
	for(var i=0; i<file_inputs.length; i++){
		//file_inputs[i].onchange = file_inputs[i].read_file;
		file_inputs[i].onchange = handleFile;
	}	
	
},false);
	
function handleFile(e) {
  var files = e.target.files;
  var i,f;
  for (i = 0, f = files[i]; i != files.length; ++i) {
    var reader = new FileReader();
    var name = f.name;
    reader.onload = function(e) {
      var data = e.target.result;

      var workbook = XLSX.read(data, {type: 'binary'});

      /* DO SOMETHING WITH workbook HERE */
    };
    reader.readAsBinaryString(f);
  }
}
</script>

<script src="http://oss.sheetjs.com/js-xlsx/xlsx.js"></script>

<input type=file class="nexus" multiple>