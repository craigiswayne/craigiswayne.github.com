<!---
temp stuff to make it work
--->

<style>
body{
    height:400vh;
    margin:0;
    padding:0;
    zoom:80%;
}
</style>

<!---
temp stuff to make it work
--->

<div id="html_body_ad">    
    <div id="wrapper">
        <div class="column left">
            <img class="blind_header" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
            <img class="blind left" src="">
        </div>
        <div class="column right">
            <img class="blind_header" src="">
            <img id="string" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
            <img class="blind right" src="">
        </div>
   </div>
    <script>
        var html_body_ad_assets = {
            images:{
                blinds:[
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/013.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/012.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/011.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/010.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/09.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/08.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/07.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/06.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/05.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/04.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/03.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/02.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/final/left/with_hole/01.png"
                ],
                strings:[
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/048.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/047.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/046.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/045.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/044.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/043.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/042.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/041.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/040.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/039.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/038.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/037.png",
                    "http://demo.thespacestation.co.za/test/decorland/images/string3/036.png"
                    
                ],
                blinds_header:"http://demo.thespacestation.co.za/test/decorland/images/blinds3.png",
                column_backgrounds:{
                    left:"http://demo.thespacestation.co.za/test/decorland/images/sky2.png",
                    right:"http://demo.thespacestation.co.za/test/decorland/images/sky.png"
                }
            },
            columns:null,
            scroll_bind:function(){
                
                var open_st             = 800;
                var total_blind_images  = Object.keys(html_body_ad_assets.images.blinds).length; //html_body_ad_assets.blinds.length;
                
                var st                  = document.body.scrollTop;
                var index               = Math.floor((st/open_st) * total_blind_images);
                index                   = (index > total_blind_images - 1 ) ? total_blind_images - 1 : index;
                for(var i=0; i<html_body_ad_assets.blinds.length; i++){html_body_ad_assets.blinds[i].src = html_body_ad_assets.images.blinds[index];}
                
                html_body_ad_assets.string.src = html_body_ad_assets.images.strings[index];
                console.debug(html_body_ad_assets.images.strings[index]);
                
            },
            construct: function(){
                
                this.container      = document.appendChild(document.createElement("div"));
                this.container.id   = "html_body_ad";
                this.column_left    = this.container.appendChild(document.createElement("div"));
                
            },
            init:function(){
                
                //html_body_ad_assets.construct().bind(html_body_ad_assets);
                
                //string
                html_body_ad_assets.string = document.querySelector("#html_body_ad #string");
                
                html_body_ad_assets.columns = html_body_ad_assets.columns || document.querySelectorAll("#html_body_ad .column");
                
                //blind headers
                html_body_ad_assets.blind_headers = html_body_ad_assets.blind_headers || document.querySelectorAll(".blind_header");
                for(var i=0; i<html_body_ad_assets.blind_headers.length; i++){
                    html_body_ad_assets.blind_headers[i].src = html_body_ad_assets.images.blinds_header;
                }
                
                //blinds
                html_body_ad_assets.blinds  = document.querySelectorAll(".blind");
                
                document.querySelector("#html_body_ad .column.left").style.backgroundImage = "url("+ html_body_ad_assets.images.column_backgrounds.left +")";
                document.querySelector("#html_body_ad .column.right").style.backgroundImage = "url("+ html_body_ad_assets.images.column_backgrounds.right +")";
                
                document.body.onscroll = html_body_ad_assets.scroll_bind;
                html_body_ad_assets.scroll_bind();
            }
        };
        document.addEventListener("DOMContentLoaded",html_body_ad_assets.init,false);
    </script>
    <style>
        
        #html_body_ad{
            position:fixed;
            width:100%;
            height:100%;
            display:block;
        }
        
        #html_body_ad div#wrapper {
          width:1440px;
          height:100%;
          display: block;
          margin: auto;
          background: rgb(255, 0, 0);
          position:relative;
        }

        #html_body_ad .column{
            position:absolute;
            width:300px;
            height:100%;
            top:0;
            background-size: 100% 100%;
        }

        #html_body_ad .column.left{
            left:0;
        }

        #html_body_ad .column.right{
            right:0;   
        }
        
        #html_body_ad .blind{
            height:24px;
            width:100%;
        }

        #html_body_ad .column.right .blind {
          transform: rotate(180deg);
        }

        #html_body_ad #string {
            position: absolute;
            top:124px;
            right:0;
            height:1440px;
            z-index: 1;
        }
        
        #html_body_ad .blind_header{
            height:50px;
            width:100%;
            background-image:url(http://demo.thespacestation.co.za/test/decorland/images/blinds3.png);
            margin-top:75px;
        }
    </style>
</div>