<html>

<head>
	<title>Nexus Carousel | Demo</title>
	<link rel=stylesheet href="../../tutorials/tutorials.css">
	<link rel=stylesheet href="../../css/font-awesome-4.2.0/css/font-awesome.css">
	
	<style for=nexus>
		button:hover{
			cursor:pointer;
		}
	</style>
	
	<style for=tutorials>
		fieldset.example{
			width:94%;
		}
	</style>
	
	<style>
		div.nexus.carousel {
			display: block;
			width: 526px;
			max-width:100%;
			margin:auto;
			height:50px;
			background-color:black;
			position:relative;
			padding:0px 20px 0px 20px;
			box-sizing:border-box;
			overflow:hidden;
		}
		
		div.nexus.carousel .navigation{
			position:absolute;
			top:0px;
			display:inline-block;
			height:100%;
			width:20px;
			border: none;
			color:rgb(255, 255, 255);
			font-weight: bold;
			font-size:15px;
			margin:0px;
			padding:0px;
			background:inherit;
			z-index:2;
		}
		
		div.nexus.carousel .navigation:focus{
			outline:none;
		}
		
		div.nexus.carousel .navigation.fa-angle-left{
			left:0px;
		}
		
		div.nexus.carousel .navigation.fa-angle-right{
			right:0px;
		}
		
		div.nexus.carousel .slider{
			background-color:rgba(40,40,40,0.9);
			height:100%;
			white-space:nowrap;
			transition:margin-left 0.3s ease;
			-o-transition:margin-left 0.3s ease;
			-ms-transition:margin-left 0.3s ease;
			-moz-transition:margin-left 0.3s ease;
			-webkit-transition:margin-left 0.3s ease;
		}
		
		div.nexus.carousel .slide{
			height: 100%;
			margin: 0px;
			width: 80px;
			display: inline-block;
			position: relative;
			border: none;
			border-right: 1px solid rgb(245, 245, 245);
		}
		
	</style>
	
	<script>
		document.addEventListener("DOMContentLoaded",function(){
		
			var nexus_carousels = document.querySelectorAll("div.nexus.carousel");
			for(var i=0; i<nexus_carousels.length; i++){
				initialize_nexus_carousel(nexus_carousels[i]);
			}
		
		},false);
		
		function initialize_nexus_carousel(element){
			
			var carousel 			= element.cloneNode(true);
			carousel.navigation		= new Object();
			carousel.innerHTML 		= "";
			
			var slider 				= carousel.appendChild(document.createElement("div"));
			slider.className		= "slider";
			var slides 				= element.querySelectorAll(".slide");
			for(var i=0; i<slides.length; i++){
				slider.appendChild(slides[i]);
			}
			
			var navigation_left = carousel.appendChild(document.createElement("button"));
			navigation_left.className = "navigation fa fa-angle-left";
			
			var navigation_right = carousel.appendChild(document.createElement("button"));
			navigation_right.className = "navigation fa fa-angle-right";

			element.parentNode.replaceChild(carousel,element);
			
			var slide_width = parseInt(getComputedStyle(carousel.querySelector(".slide")).width);
			
			var max_margin_left = 0 - (parseFloat(slides.length * slide_width) - parseFloat(window.getComputedStyle(slider).width));		
			
			document.addEventListener("mouseup",function(){
				if(carousel.navigation.interval){
					window.clearInterval(carousel.navigation.interval);
					carousel.navigation.interval = null;
				}
			},false);
			
			navigation_left.addEventListener("mousedown",function(){
				
				carousel.navigation.interval = setInterval(function(){
					var initial_val = parseInt(window.getComputedStyle(slider).marginLeft);
					var new_val		= initial_val - slide_width;
					new_val = new_val < max_margin_left ? max_margin_left : new_val;
					slider.style.marginLeft = new_val+"px";
				},300);
			},false);
			
			navigation_left.addEventListener("click",function(){
				var initial_val = parseInt(window.getComputedStyle(slider).marginLeft);
				var new_val		= initial_val - slide_width;
				new_val = new_val < max_margin_left ? max_margin_left : new_val;
				slider.style.marginLeft = new_val+"px";
			},false);
			
			navigation_right.addEventListener("mousedown",function(){
				
				carousel.navigation.interval = setInterval(function(){
					var initial_val = parseInt(window.getComputedStyle(slider).marginLeft);
					var new_val		= initial_val + slide_width;
					new_val = new_val > 0 ? 0 : new_val;
					slider.style.marginLeft = new_val+"px";
				},300);
			},false);
			
			navigation_right.addEventListener("click",function(){
				var initial_val = parseInt(window.getComputedStyle(slider).marginLeft);
				var new_val		= initial_val + slide_width;
				new_val = new_val > 0 ? 0 : new_val;
				slider.style.marginLeft = new_val+"px";
			},false);
			
		}
	</script>
</head>

<body>

	<fieldset class=example>
		<legend>Example 1: minimal setup</legend>
		
		<div class="nexus carousel">
			<img class="slide" src="../../images/hongqiao1.jpg"><img class="slide" src="../../images/hongqiao2.jpg"><img class="slide" src="../../images/hongqiao3.jpg"><img class="slide" src="../../images/hongqiao4.jpg"><img class="slide" src="../../images/hongqiao5.jpg"><img class="slide" src="../../images/hongqiao6.jpg"><img class="slide" src="../../images/hongqiao7.jpg"><img class="slide" src="../../images/hongqiao8.jpg"><img class="slide" src="../../images/hongqiao6.jpg"><img class="slide" src="../../images/hongqiao7.jpg"><img class="slide" src="../../images/hongqiao8.jpg"><img class="slide" src="../../images/hongqiao8.jpg">
		</div>
	</fieldset>
	
	
	<fieldset class=example>
		<legend>Example 2: defining visible slides (4)</legend>
		
		<div class="nexus carousel" data-visible_slides=4>
			<img class="slide" src="../../images/hongqiao1.jpg"><img class="slide" src="../../images/hongqiao2.jpg"><img class="slide" src="../../images/hongqiao3.jpg"><img class="slide" src="../../images/hongqiao4.jpg"><img class="slide" src="../../images/hongqiao5.jpg"><img class="slide" src="../../images/hongqiao6.jpg"><img class="slide" src="../../images/hongqiao7.jpg"><img class="slide" src="../../images/hongqiao8.jpg"><img class="slide" src="../../images/hongqiao6.jpg"><img class="slide" src="../../images/hongqiao7.jpg"><img class="slide" src="../../images/hongqiao8.jpg"><img class="slide" src="../../images/hongqiao8.jpg">
		</div>
		
	</fieldset>
	
	
	<p>Issues</p>
	<ol>
		<li>only include the nexus.js file allow for settings</li>
		<li>make use of mutation observers and cross browser test</li>
		<li>number to show</li>
		<li>snap to slide when navigating</li>
		<li>invert the navigation option</li>
		<li>mimic bootstrap carousel</li>
		<li>automatic show</li>
		<li>link to nexus gallery</li>
	</ol>

</body>

</html>
