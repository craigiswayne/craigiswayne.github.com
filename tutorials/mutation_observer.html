<header>
	<h1>Mutation Observer</h1>
	<caption>Monitoring Changes to the Page</caption>
</header>

<ol>
	<li>
			Step 1: Initialize the MutationObserver
			<pre>var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;</pre>
	</li>

	<li>
			Step 2: Create the Observer
			<pre>
				var observer = new MutationObserver(
					function(mutations)
					{  
   					mutations.forEach(function(mutation){
   				});
				});
			</pre>
	</li>

	<li>
			Step 3: Define Properties for the Observer
			<a href="https://developer.mozilla.org/en/docs/Web/API/MutationObserver#MutationObserverInit" target=_blank>reference</a>
			<pre>
				observer.observe(document.body, {
					attributes: true, 
					childList: true,
					subtree:true
				 });
			</pre>
	</li>
</ol>

<fieldset class=example>
	<legend>Example: Monitoring New Elements Added / Removed</legend>
	
	<div id=mutation_observer_example_1>
		<input type=button value="Add New Button" onclick="var new_el = this.parentNode.appendChild(document.createElement('input')); new_el.type='button'; new_el.value='New Button'; document.getElementById('mutation_observer_example_1').appendChild(document.createElement('input'));">
	</div>
	
	<script>
		document.addEventListener("DOMContentLoaded",function(){
		
			var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
			
			var observer = new MutationObserver(function(mutations){  
			
				alert('Mutation Group Code Here');
				
				mutations.forEach(function(mutation){
					alert("New Button Added");		   					
				});
				
			});
			
			observer.observe(document.getElementById("mutation_observer_example_1"),{
				attributes: false, 
				childList: true,
				subtree:true
			});
			
		},false);
	</script>
	
</fieldset>
